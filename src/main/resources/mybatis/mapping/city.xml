<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mfq.admin.web.dao.CityMapper">
	<sql id="selectsql">
		area_city.id as id, area_city.name as name, pro_id as proId, sort
	</sql>

	<select id="findById" resultType="City">
		select
		<include refid="selectsql" />
		from area_city where id=#{id} order by sort desc
	</select>
	
	<select id="findAllExistCity" resultType="City">
		select distinct
		<include refid="selectsql" />
		from area_city , hospital
		where area_city.id = hospital.city_id
	</select>
	
	<select id="findByName" resultType="City">
		select 
		<include refid="selectsql" />
		from area_city
		<if test ="cityname != null and cityname != ''"  >
		 where name like CONCAT('%',#{cityname},'%') 
		</if>
	</select>

</mapper>